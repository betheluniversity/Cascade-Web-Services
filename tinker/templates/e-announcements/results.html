{% macro form_card(form)-%}

    <div class="card">
        <div class="content">
            <p>
                {% if form.path != '' %}
                    <a href={{ form.path }}>{{ form.title }}</a>
                {% else %}
                    {{ form.title }}
                {% endif %}
                <br/>
                <small>{{ form.first_date | safe }}</small>
                <br/>
                <small>{{ form.second_date | safe }}</small>
            </p>
            <div class="large-6 columns small-3">
                <ul class="btn-group-horizontal">
                    {% if form.workflow_status %}
                        <li>This announcement is pending approval.</li>
                    {% else %}
                        {% if not form.first_date_past and not form.second_date_past %}
                            <li>
                                <a href="{{ url_for('EAnnouncementsView:edit', e_announcement_id=form.id) }}"
                                   class="btn btn-primary">Edit</a></li>
                        {% else %}
                            <li>
                                <a href="{{ url_for('EAnnouncementsView:view', e_announcement_id=form.id) }}"
                                   class="btn btn-primary">View</a></li>
                        {% endif %}
                        <li>
                            <a href="{{ url_for('EAnnouncementsView:duplicate', e_announcement_id=form.id) }}"
                               class="btn btn-primary">Duplicate</a></li>
                        {% if not form.first_date_past %}
                            <li><a href="#" data-reveal-id="confirmModal" id="{{ form.id }}"
                                   data-e-announcement-id="{{ form.id }}"
                                   class="small btn btn-primary btn-alert delete-press"
                                   data-toggle="modal" data-target="#myModal">Delete</a></li>
                        {% endif %}
                    {% endif %}
                </ul>
            </div>
        </div>
    </div>
{%- endmacro %}

{% block main_content %}
    <div class="content">
        <h2>{{ forms_header }}</h2>
        {% if search_results is defined and search_results | length > 0 %}
            <div id="loop" class="form-group col-md-12">
                {% if search_results|length > 10 %}
                    <nav aria-label="Page navigation example">
                        <ul class="pagination">
                            <li id="previous-page">
                                <a href="javascript:void(0)">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>
                        </ul>
                        <ul>
                            <li style="list-style-type: none;">
                                Limit
                            </li>
                            <li style="list-style-type: none;">
                                <select id="selected-option">
                                    <option value="10" selected="selected">10</option>
                                    <option value="20">20</option>
                                    <option value="50">50</option>
                                    <option value="{{ search_results|length }}">All</option>
                                </select>
                            </li>
                        </ul>
                    </nav>
                {% endif %}
                {% for form in search_results %}
                    <div class="items-to-paginate">
                        {{ form_card(form) }}
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <p> Search completed: No E-Announcements meet the search criteria. </p>
        {% endif %}
    </div>
{% endblock %}